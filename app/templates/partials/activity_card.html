<article class="activity-card">
    <div class="activity-category">{{ activity.category_name }}</div>
    <h3 class="activity-name">{{ activity.name }}</h3>
    
    <div class="activity-meta">
        <span class="activity-center">{{ activity.center_name }}</span>
        {% if activity.season_name %}
        <span class="activity-season">{{ activity.season_name }}</span>
        {% endif %}
    </div>
    
    <div class="activity-dates">
        {% if activity.first_date and activity.last_date %}
            {{ activity.first_date }} &ndash; {{ activity.last_date }}
        {% elif activity.first_date %}
            {{ activity.first_date }}
        {% endif %}
    </div>
    
    {% if meeting_dates.get(activity.id) %}
    <div class="activity-schedule">
        {% for pattern in meeting_dates[activity.id].activity_patterns %}
            {% for pd in pattern.pattern_dates %}
            <div class="schedule-item">
                <span class="schedule-days">{{ pd.weekdays }}</span>
                {% if pd.starting_time and pd.ending_time %}
                <span class="schedule-time">{{ pd.starting_time[:5] }} &ndash; {{ pd.ending_time[:5] }}</span>
                {% endif %}
            </div>
            {% endfor %}
        {% endfor %}
    </div>
    {% endif %}
    
    <div class="activity-details">
        {% if activity.age_range %}
        <span class="activity-age">{{ activity.age_range }}</span>
        {% endif %}
        {% if activity.price %}
        <span class="activity-price">{{ activity.price }}</span>
        {% endif %}
        {% if activity.spots_available is not none %}
        <span class="activity-spots">{{ activity.spots_available }} spots</span>
        {% endif %}
    </div>
    
    {% if activity.action_link and activity.action_link.href %}
    <div class="activity-actions">
        <a href="{{ activity.action_link.href }}" class="btn btn-enroll" target="_blank">
            {{ activity.action_link.label or "Enroll" }}
        </a>
    </div>
    {% endif %}
</article>
